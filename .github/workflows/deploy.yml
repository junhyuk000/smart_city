jobs:
  deploy:
    runs-on: self-hosted  # 웹 서버에서 직접 실행

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3  # 저장소 코드를 서버로 가져옴

      - name: Deploy to Local Server
        run: |
          cd /home/sejong/flask_app/smart_city
          git pull origin main
          echo "${{ secrets.SUDO_PASSWORD }}" | sudo -S systemctl restart gunicorn_app
