<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>센서 데이터</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
        h1 { color: #333; }
        .data-box { background-color: #f4f4f4; padding: 20px; border-radius: 5px; display: inline-block; padding: 20px; }
        pre { text-align: left; font-size: 18px; }
    </style>
</head>
<body>

    <h1>📡 센서 데이터 (실시간 업데이트)</h1>
    <div class="data-box">
        <pre id="sensor-data">데이터 없음</pre>
    </div>

    <script>
        function fetchSensorData() {
            $.getJSON("/api", function(response) {
                console.log("📩 받은 데이터:", response);
                $("#sensor-data").text(JSON.stringify(response, null, 2));  // JSON 데이터 표시
            }).fail(function() {
                console.error("❌ 데이터 불러오기 실패");
            });
        }

        // 3초마다 데이터 갱신
        setInterval(fetchSensorData, 3000);
    </script>

</body>
</html>